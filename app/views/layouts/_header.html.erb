<header class="bg-white shadow-sm sticky top-0 z-50" data-controller="mobile-menu">
  <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
    <!-- Logo -->
    <%= link_to root_path, class: "text-2xl font-bold text-blue-600 hover:text-blue-700" do %>
      FlexiLearn
    <% end %>

    <!-- Desktop nav -->
    <nav class="hidden md:flex items-center space-x-6 text-sm text-gray-700">
      <%= link_to "Trilhas", trails_path, class: "hover:text-blue-600 font-medium" %>
    </nav>

    <!-- User actions -->
    <div class="hidden md:flex items-center space-x-4">
      <% if authenticated? %>
        <span class="text-sm text-gray-600">Olá, <%= Current.user.email_address %></span>
        <%= link_to "Sair", session_path, method: :delete, class: "text-sm text-red-500 hover:text-red-700" %>
      <% else %>
        <%= link_to "Entrar", new_session_path, class: "text-sm text-blue-600 hover:text-blue-700" %>
      <% end %>
    </div>

    <!-- Botão mobile -->
    <button 
      data-action="click->mobile-menu#toggle" 
      type="button" 
      class="md:hidden text-gray-600 hover:text-blue-600 focus:outline-none"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Menu Mobile -->
  <nav data-mobile-menu-target="menu" class="md:hidden hidden px-4 pb-4 space-y-2">
    <%= link_to "Trilhas", trails_path, class: "block text-sm text-gray-700 hover:text-blue-600" %>
    <% if authenticated? %>
      <span class="block text-sm text-gray-600">Olá, <%= Current.user.email_address %></span>
      <%= button_to "Sair", session_path, method: :delete, class: "block text-sm text-red-500 hover:text-red-700" %>
    <% else %>
      <%= link_to "Entrar", new_session_path, class: "block text-sm text-blue-600 hover:text-blue-700" %>
    <% end %>
  </nav>
</header>