<header class="flex items-center justify-between shadow-md py-4 px-4 sm:px-10 bg-white min-h-[70px] tracking-wide relative z-50">
  <div class="flex flex-wrap items-center justify-between w-full gap-5">

    <!-- Logo -->
    <%= link_to root_path, class: "flex items-center gap-2 text-2xl font-extrabold text-blue-600 hover:text-blue-700 transition" do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
      </svg>
      FlexiLearn
    <% end %>

    <!-- Menu toggle -->
    <input type="checkbox" id="mobile-menu" class="peer hidden">

    <!-- Navigation -->
    <div class="peer-checked:block max-lg:hidden lg:!block peer-checked:before:fixed peer-checked:before:bg-black peer-checked:before:opacity-40 peer-checked:before:inset-0 peer-checked:before:z-40">

      <!-- Botão fechar (mobile) -->
      <label for="mobile-menu" class="lg:hidden fixed top-3 right-4 z-[100] rounded-full bg-white w-9 h-9 flex items-center justify-center shadow border border-gray-200 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-800" viewBox="0 0 24 24" fill="currentColor">
          <path fill-rule="evenodd" d="M6.225 4.811a1 1 0 011.414 0L12 9.172l4.361-4.361a1 1 0 111.414 1.414L13.414 10.586l4.361 4.361a1 1 0 01-1.414 1.414L12 12l-4.361 4.361a1 1 0 01-1.414-1.414l4.361-4.361-4.361-4.361a1 1 0 010-1.414z" clip-rule="evenodd"/>
        </svg>
      </label>

      <!-- Links -->
      <ul class="lg:flex gap-x-6 max-lg:space-y-4 max-lg:fixed max-lg:bg-white max-lg:w-2/3 max-lg:min-w-[250px] max-lg:top-0 max-lg:left-0 max-lg:p-6 max-lg:h-full max-lg:shadow-lg max-lg:overflow-auto z-50 text-[15px] font-medium">
        <li>
          <%= link_to trails_path, class: "flex items-center gap-2 px-3 py-2 text-slate-900 hover:text-blue-600 transition" do %>
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
            </svg>
            Trilhas
          <% end %>
        </li>

        <% if authenticated? %>
          <li>
            <%= link_to user_path(Current.user), class: "flex items-center gap-2 px-3 py-2 text-slate-900 hover:text-blue-600 transition" do %>
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15c2.21 0 4.29.537 6.121 1.488M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              Meu Perfil
            <% end %>
          </li>
          <li>
            <%= link_to edit_user_path(Current.user), class: "flex items-center gap-2 px-3 py-2 text-slate-900 hover:text-blue-600 transition" do %>
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-1.5a2.121 2.121 0 113 3L6 21H3v-3L16.732 6.732z"/>
              </svg>
              Editar Perfil
            <% end %>
          </li>
        <% end %>
      </ul>
    </div>

    <!-- Ações -->
    <div class="flex items-center space-x-4 max-lg:ml-auto">
      <% if authenticated? %>
        
        <%= button_to session_path, method: :delete, class: "flex items-center gap-2 px-4 py-2 text-sm rounded-full font-medium text-slate-900 border border-gray-400 hover:bg-gray-50 transition" do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1m0-9V5" />
          </svg>
          Sair
        <% end %>
      <% else %>
        <%= link_to new_session_path, class: "flex items-center gap-2 px-4 py-2 text-sm rounded-full font-medium text-slate-900 border border-gray-400 hover:bg-gray-50 transition" do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7" />
          </svg>
          Login
        <% end %>

        <%= link_to "#", class: "flex items-center gap-2 px-4 py-2 text-sm rounded-full font-medium text-white bg-blue-600 border border-blue-600 hover:bg-blue-700 transition" do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2m8-10a4 4 0 100-8 4 4 0 000 8z" />
          </svg>
          Sign up
        <% end %>
      <% end %>

      <!-- Botão hamburguer -->
      <label for="mobile-menu" class="lg:hidden cursor-pointer z-[60]">
        <svg class="w-7 h-7 text-slate-800" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 010 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 010 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 010 2H4a1 1 0 01-1-1z"/>
        </svg>
      </label>
    </div>
  </div>
</header>